import { 
  Account, 
  Stakeholder, 
  Opportunity, 
  SalesStage, 
  Activity,
  SalesProcess 
} from '@/types/account';

// ==========================================
// DEFAULT SALES STAGES
// ==========================================

export const defaultSalesStages: SalesStage[] = [
  {
    id: 'stage_1',
    name: 'Target Identified',
    code: 'TARGET',
    order: 1,
    category: 'prospecting',
    defaultProbability: 5,
    forecastCategory: 'omitted',
    entryCriteria: [],
    exitCriteria: [
      { id: 'r1', field: 'primaryContactId', operator: 'is_set', value: true, errorMessage: 'Primary contact required' }
    ],
    mandatoryFields: ['accountId', 'name', 'dealSize'],
    allowedActions: ['add_contact', 'log_activity', 'schedule_call'],
    expectedDuration: 14,
    warningThreshold: 21,
    criticalThreshold: 30,
    requiresApproval: false,
    approvalRoles: [],
    maxDiscount: 0,
    priceLocked: false,
    requiredDocuments: [],
    onEnterWorkflows: ['notify_owner'],
    onExitWorkflows: [],
    color: '#6B7280',
    icon: 'target',
    isActive: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stage_2',
    name: 'Initial Contact',
    code: 'CONTACT',
    order: 2,
    category: 'prospecting',
    defaultProbability: 10,
    forecastCategory: 'pipeline',
    entryCriteria: [
      { id: 'r1', field: 'primaryContactId', operator: 'is_set', value: true, errorMessage: 'Contact must be identified' }
    ],
    exitCriteria: [
      { id: 'r2', field: 'activities', operator: 'greater_than', value: 0, errorMessage: 'At least one activity required' }
    ],
    mandatoryFields: ['primaryContactId'],
    allowedActions: ['add_contact', 'log_activity', 'send_email', 'schedule_meeting'],
    expectedDuration: 7,
    warningThreshold: 14,
    criticalThreshold: 21,
    requiresApproval: false,
    approvalRoles: [],
    maxDiscount: 0,
    priceLocked: false,
    requiredDocuments: [],
    onEnterWorkflows: [],
    onExitWorkflows: [],
    color: '#3B82F6',
    icon: 'phone',
    isActive: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stage_3',
    name: 'Discovery',
    code: 'DISCOVERY',
    order: 3,
    category: 'qualification',
    defaultProbability: 20,
    forecastCategory: 'pipeline',
    entryCriteria: [],
    exitCriteria: [
      { id: 'r1', field: 'painPoints', operator: 'is_set', value: true, errorMessage: 'Pain points must be documented' }
    ],
    mandatoryFields: ['painPoints', 'budgetStatus'],
    allowedActions: ['log_activity', 'schedule_demo', 'add_stakeholder'],
    expectedDuration: 14,
    warningThreshold: 21,
    criticalThreshold: 30,
    requiresApproval: false,
    approvalRoles: [],
    maxDiscount: 0,
    priceLocked: false,
    requiredDocuments: [],
    onEnterWorkflows: [],
    onExitWorkflows: ['create_discovery_summary'],
    color: '#8B5CF6',
    icon: 'search',
    isActive: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stage_4',
    name: 'Solution Mapping',
    code: 'SOLUTION',
    order: 4,
    category: 'qualification',
    defaultProbability: 35,
    forecastCategory: 'pipeline',
    entryCriteria: [],
    exitCriteria: [],
    mandatoryFields: ['products'],
    allowedActions: ['configure_solution', 'schedule_demo', 'add_product'],
    expectedDuration: 14,
    warningThreshold: 21,
    criticalThreshold: 30,
    requiresApproval: false,
    approvalRoles: [],
    maxDiscount: 5,
    priceLocked: false,
    requiredDocuments: [],
    onEnterWorkflows: [],
    onExitWorkflows: [],
    color: '#EC4899',
    icon: 'puzzle',
    isActive: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stage_5',
    name: 'Proposal',
    code: 'PROPOSAL',
    order: 5,
    category: 'proposal',
    defaultProbability: 50,
    forecastCategory: 'best_case',
    entryCriteria: [
      { id: 'r1', field: 'products', operator: 'is_set', value: true, errorMessage: 'Products must be configured' }
    ],
    exitCriteria: [],
    mandatoryFields: ['expectedCloseDate'],
    allowedActions: ['generate_quote', 'send_proposal', 'schedule_review'],
    expectedDuration: 14,
    warningThreshold: 21,
    criticalThreshold: 30,
    requiresApproval: true,
    approvalRoles: ['sales_manager'],
    maxDiscount: 10,
    priceLocked: false,
    requiredDocuments: ['proposal'],
    onEnterWorkflows: ['notify_manager'],
    onExitWorkflows: ['log_proposal_sent'],
    color: '#F59E0B',
    icon: 'file-text',
    isActive: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stage_6',
    name: 'Negotiation',
    code: 'NEGOTIATION',
    order: 6,
    category: 'negotiation',
    defaultProbability: 70,
    forecastCategory: 'best_case',
    entryCriteria: [],
    exitCriteria: [],
    mandatoryFields: [],
    allowedActions: ['update_pricing', 'request_approval', 'schedule_meeting'],
    expectedDuration: 14,
    warningThreshold: 21,
    criticalThreshold: 30,
    requiresApproval: true,
    approvalRoles: ['sales_manager', 'finance'],
    maxDiscount: 15,
    priceLocked: false,
    requiredDocuments: [],
    onEnterWorkflows: [],
    onExitWorkflows: [],
    color: '#EF4444',
    icon: 'handshake',
    isActive: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stage_7',
    name: 'Approval / Sanction',
    code: 'APPROVAL',
    order: 7,
    category: 'closing',
    defaultProbability: 85,
    forecastCategory: 'commit',
    entryCriteria: [],
    exitCriteria: [
      { id: 'r1', field: 'approvalStatus', operator: 'equals', value: 'approved', errorMessage: 'Deal must be approved' }
    ],
    mandatoryFields: [],
    allowedActions: ['submit_for_approval', 'upload_document'],
    expectedDuration: 7,
    warningThreshold: 14,
    criticalThreshold: 21,
    requiresApproval: true,
    approvalRoles: ['sales_director', 'finance_head'],
    maxDiscount: 20,
    priceLocked: true,
    requiredDocuments: ['final_proposal', 'approval_form'],
    onEnterWorkflows: ['create_approval_request'],
    onExitWorkflows: [],
    color: '#10B981',
    icon: 'check-circle',
    isActive: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stage_8',
    name: 'Contract / PO',
    code: 'CONTRACT',
    order: 8,
    category: 'closing',
    defaultProbability: 95,
    forecastCategory: 'commit',
    entryCriteria: [],
    exitCriteria: [
      { id: 'r1', field: 'contractUploaded', operator: 'equals', value: true, errorMessage: 'Contract must be uploaded' }
    ],
    mandatoryFields: [],
    allowedActions: ['upload_contract', 'upload_po', 'mark_won'],
    expectedDuration: 7,
    warningThreshold: 14,
    criticalThreshold: 21,
    requiresApproval: false,
    approvalRoles: [],
    maxDiscount: 0,
    priceLocked: true,
    requiredDocuments: ['signed_contract', 'purchase_order'],
    onEnterWorkflows: [],
    onExitWorkflows: [],
    color: '#059669',
    icon: 'file-signature',
    isActive: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stage_won',
    name: 'Won',
    code: 'WON',
    order: 9,
    category: 'closing',
    defaultProbability: 100,
    forecastCategory: 'closed',
    entryCriteria: [],
    exitCriteria: [],
    mandatoryFields: ['actualCloseDate'],
    allowedActions: ['create_contract', 'initiate_onboarding'],
    expectedDuration: 0,
    warningThreshold: 0,
    criticalThreshold: 0,
    requiresApproval: false,
    approvalRoles: [],
    maxDiscount: 0,
    priceLocked: true,
    requiredDocuments: [],
    onEnterWorkflows: ['celebrate_win', 'notify_delivery', 'update_forecast'],
    onExitWorkflows: [],
    color: '#22C55E',
    icon: 'trophy',
    isActive: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stage_lost',
    name: 'Lost',
    code: 'LOST',
    order: 10,
    category: 'closing',
    defaultProbability: 0,
    forecastCategory: 'omitted',
    entryCriteria: [],
    exitCriteria: [],
    mandatoryFields: ['closeReason', 'closeReasonCategory'],
    allowedActions: ['reopen'],
    expectedDuration: 0,
    warningThreshold: 0,
    criticalThreshold: 0,
    requiresApproval: false,
    approvalRoles: [],
    maxDiscount: 0,
    priceLocked: true,
    requiredDocuments: [],
    onEnterWorkflows: ['capture_loss_reason', 'update_forecast'],
    onExitWorkflows: [],
    color: '#DC2626',
    icon: 'x-circle',
    isActive: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
];

// ==========================================
// SAMPLE ACCOUNTS
// ==========================================

export const sampleAccounts: Account[] = [
  {
    id: 'acc_1',
    name: 'Tata Steel Limited',
    legalName: 'Tata Steel Limited',
    type: 'enterprise',
    classification: 'strategic',
    status: 'active',
    hierarchy: {
      id: 'hier_1',
      parentId: null,
      level: 0,
      hierarchyPath: [],
      consolidatedRevenue: 850000000,
      consolidatedOpportunities: 12,
    },
    ownerId: 'user_1',
    ownerName: 'Priya Sharma',
    teamId: 'team_enterprise',
    region: 'West',
    territory: 'Mumbai',
    gstin: '27AABCT1234N1ZV',
    pan: 'AABCT1234N',
    industry: 'Manufacturing',
    subIndustry: 'Steel & Metals',
    employeeCount: '50000+',
    annualRevenue: '₹2,50,000 Cr',
    fiscalYearEnd: 'March',
    healthScore: 85,
    engagementScore: 78,
    riskScore: 15,
    npsScore: 72,
    totalContractValue: 45000000,
    activeContractValue: 32000000,
    lifetimeValue: 125000000,
    outstandingReceivables: 2500000,
    paymentBehaviorScore: 92,
    activePipelineValue: 18500000,
    activePipelineCount: 4,
    weightedPipeline: 9250000,
    totalWins: 8,
    totalLosses: 2,
    winRate: 80,
    avgDealSize: 5625000,
    avgSalesCycle: 120,
    createdAt: new Date('2020-01-15'),
    updatedAt: new Date(),
    lastActivityDate: new Date(),
    nextRenewalDate: new Date('2025-03-31'),
    tags: ['strategic', 'manufacturing', 'long-term'],
    customFields: {},
  },
  {
    id: 'acc_2',
    name: 'Reliance Industries',
    legalName: 'Reliance Industries Limited',
    type: 'enterprise',
    classification: 'strategic',
    status: 'active',
    hierarchy: {
      id: 'hier_2',
      parentId: null,
      level: 0,
      hierarchyPath: [],
      consolidatedRevenue: 1200000000,
      consolidatedOpportunities: 18,
    },
    ownerId: 'user_2',
    ownerName: 'Rahul Mehta',
    teamId: 'team_enterprise',
    region: 'West',
    territory: 'Mumbai',
    gstin: '27AABCR1234N1ZV',
    pan: 'AABCR1234N',
    industry: 'Conglomerate',
    subIndustry: 'Oil & Gas',
    employeeCount: '100000+',
    annualRevenue: '₹8,00,000 Cr',
    fiscalYearEnd: 'March',
    healthScore: 92,
    engagementScore: 88,
    riskScore: 8,
    npsScore: 85,
    totalContractValue: 120000000,
    activeContractValue: 85000000,
    lifetimeValue: 350000000,
    outstandingReceivables: 0,
    paymentBehaviorScore: 100,
    activePipelineValue: 45000000,
    activePipelineCount: 7,
    weightedPipeline: 27000000,
    totalWins: 15,
    totalLosses: 3,
    winRate: 83,
    avgDealSize: 8000000,
    avgSalesCycle: 90,
    createdAt: new Date('2019-06-01'),
    updatedAt: new Date(),
    lastActivityDate: new Date(),
    nextRenewalDate: new Date('2024-12-31'),
    tags: ['strategic', 'conglomerate', 'multi-division'],
    customFields: {},
  },
  {
    id: 'acc_3',
    name: 'Ministry of Railways',
    legalName: 'Indian Railways',
    type: 'government',
    classification: 'strategic',
    status: 'active',
    hierarchy: {
      id: 'hier_3',
      parentId: null,
      level: 0,
      hierarchyPath: [],
      consolidatedRevenue: 500000000,
      consolidatedOpportunities: 8,
    },
    ownerId: 'user_3',
    ownerName: 'Vikram Das',
    teamId: 'team_government',
    region: 'North',
    territory: 'Delhi',
    industry: 'Government',
    subIndustry: 'Transportation',
    employeeCount: '1000000+',
    annualRevenue: 'Central Govt.',
    fiscalYearEnd: 'March',
    healthScore: 75,
    engagementScore: 65,
    riskScore: 25,
    totalContractValue: 75000000,
    activeContractValue: 45000000,
    lifetimeValue: 200000000,
    outstandingReceivables: 15000000,
    paymentBehaviorScore: 70,
    activePipelineValue: 85000000,
    activePipelineCount: 5,
    weightedPipeline: 34000000,
    totalWins: 6,
    totalLosses: 4,
    winRate: 60,
    avgDealSize: 12500000,
    avgSalesCycle: 180,
    createdAt: new Date('2018-04-01'),
    updatedAt: new Date(),
    lastActivityDate: new Date(),
    nextRenewalDate: new Date('2025-06-30'),
    tags: ['government', 'infrastructure', 'long-cycle'],
    customFields: {},
  },
];

// ==========================================
// SAMPLE STAKEHOLDERS
// ==========================================

export const sampleStakeholders: Stakeholder[] = [
  {
    id: 'stake_1',
    accountId: 'acc_1',
    contactId: 'cont_1',
    name: 'Rajesh Sharma',
    title: 'Chief Technology Officer',
    department: 'Technology',
    email: 'rajesh.sharma@tatasteel.com',
    phone: '+91 98765 43210',
    linkedIn: 'linkedin.com/in/rajeshsharma',
    roles: ['economic_buyer', 'executive_sponsor'],
    primaryRole: 'economic_buyer',
    powerScore: 9,
    influenceScore: 10,
    decisionAuthority: 'final',
    relationshipStrength: 'strong',
    relationshipOwnerId: 'user_1',
    relationshipOwnerName: 'Priya Sharma',
    lastContactDate: new Date(),
    preferredChannel: 'in_person',
    communicationFrequency: 'monthly',
    sentiment: 'positive',
    notes: 'Key decision maker. Strong advocate for digital transformation.',
    isKeyContact: true,
    isDecisionMaker: true,
    requiresExecutiveEngagement: true,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stake_2',
    accountId: 'acc_1',
    contactId: 'cont_2',
    name: 'Anita Desai',
    title: 'VP - IT Infrastructure',
    department: 'IT',
    email: 'anita.desai@tatasteel.com',
    phone: '+91 98765 43211',
    roles: ['technical_approver', 'influencer'],
    primaryRole: 'technical_approver',
    powerScore: 7,
    influenceScore: 8,
    decisionAuthority: 'strong_influence',
    relationshipStrength: 'strong',
    relationshipOwnerId: 'user_1',
    relationshipOwnerName: 'Priya Sharma',
    lastContactDate: new Date(),
    preferredChannel: 'email',
    communicationFrequency: 'biweekly',
    sentiment: 'positive',
    notes: 'Technical evaluator. Prefers detailed documentation.',
    isKeyContact: true,
    isDecisionMaker: false,
    requiresExecutiveEngagement: false,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'stake_3',
    accountId: 'acc_1',
    contactId: 'cont_3',
    name: 'Suresh Kumar',
    title: 'Head of Procurement',
    department: 'Procurement',
    email: 'suresh.kumar@tatasteel.com',
    phone: '+91 98765 43212',
    roles: ['gatekeeper', 'procurement'],
    primaryRole: 'procurement',
    powerScore: 6,
    influenceScore: 5,
    decisionAuthority: 'recommender',
    relationshipStrength: 'warm',
    relationshipOwnerId: 'user_1',
    relationshipOwnerName: 'Priya Sharma',
    lastContactDate: new Date(),
    preferredChannel: 'email',
    communicationFrequency: 'monthly',
    sentiment: 'neutral',
    notes: 'Process-oriented. Requires compliance documentation.',
    isKeyContact: false,
    isDecisionMaker: false,
    requiresExecutiveEngagement: false,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
];

// ==========================================
// SAMPLE OPPORTUNITIES
// ==========================================

export const sampleOpportunities: Opportunity[] = [
  {
    id: 'opp_1',
    name: 'Digital Transformation Platform',
    accountId: 'acc_1',
    accountName: 'Tata Steel Limited',
    ownerId: 'user_1',
    ownerName: 'Priya Sharma',
    teamId: 'team_enterprise',
    stageId: 'stage_5',
    stageName: 'Proposal',
    status: 'open',
    probability: 50,
    dealType: 'new_business',
    dealSize: 12500000,
    weightedValue: 6250000,
    currency: 'INR',
    createdDate: new Date('2024-01-15'),
    expectedCloseDate: new Date('2024-06-30'),
    lastStageChangeDate: new Date('2024-03-01'),
    daysInCurrentStage: 45,
    totalSalesCycleDays: 120,
    strategicImportance: 'critical',
    isStrategicDeal: true,
    isKeyAccount: true,
    budgetStatus: 'confirmed',
    budgetAmount: 15000000,
    budgetFiscalYear: 'FY24-25',
    decisionProcess: 'Committee-based evaluation with CTO final approval',
    decisionCriteria: ['Technical capability', 'TCO', 'Implementation timeline', 'Support model'],
    decisionTimeline: new Date('2024-05-15'),
    painPoints: ['Legacy system integration', 'Scalability issues', 'Manual processes'],
    competitors: [
      { name: 'Competitor A', threat: 'medium', strengths: ['Price'], weaknesses: ['Support'] },
      { name: 'Competitor B', threat: 'low', strengths: ['Brand'], weaknesses: ['Features'] },
    ],
    competitorThreat: 'medium',
    competitivePosition: 'leading',
    forecastCategory: 'best_case',
    isInForecast: true,
    forecastNotes: 'Strong technical fit. Awaiting commercial approval.',
    products: [
      { id: 'prod_1', productId: 'p1', productName: 'Enterprise Platform', quantity: 1, unitPrice: 8000000, discount: 10, totalPrice: 7200000, paymentTerms: '30-60-10' },
      { id: 'prod_2', productId: 'p2', productName: 'Implementation Services', quantity: 1, unitPrice: 5000000, discount: 5, totalPrice: 4750000, paymentTerms: 'Milestone' },
    ],
    primaryContactId: 'stake_1',
    stakeholderIds: ['stake_1', 'stake_2', 'stake_3'],
    stageHistory: [
      { id: 'sh_1', fromStageId: '', toStageId: 'stage_1', changedAt: new Date('2024-01-15'), changedBy: 'user_1', daysInStage: 14, notes: 'Opportunity created' },
      { id: 'sh_2', fromStageId: 'stage_1', toStageId: 'stage_2', changedAt: new Date('2024-01-29'), changedBy: 'user_1', daysInStage: 7, notes: 'Initial contact made' },
      { id: 'sh_3', fromStageId: 'stage_2', toStageId: 'stage_3', changedAt: new Date('2024-02-05'), changedBy: 'user_1', daysInStage: 14, notes: 'Discovery completed' },
      { id: 'sh_4', fromStageId: 'stage_3', toStageId: 'stage_4', changedAt: new Date('2024-02-19'), changedBy: 'user_1', daysInStage: 10, notes: 'Solution mapped' },
      { id: 'sh_5', fromStageId: 'stage_4', toStageId: 'stage_5', changedAt: new Date('2024-03-01'), changedBy: 'user_1', daysInStage: 45, notes: 'Proposal submitted' },
    ],
    tags: ['strategic', 'digital', 'Q2'],
    customFields: {},
    createdAt: new Date('2024-01-15'),
    updatedAt: new Date(),
  },
];

// ==========================================
// SAMPLE ACTIVITIES
// ==========================================

export const sampleActivities: Activity[] = [
  {
    id: 'act_1',
    type: 'meeting',
    subject: 'Executive Briefing with CTO',
    description: 'Strategic discussion on digital transformation roadmap',
    status: 'completed',
    accountId: 'acc_1',
    contactId: 'stake_1',
    opportunityId: 'opp_1',
    stageId: 'stage_5',
    ownerId: 'user_1',
    ownerName: 'Priya Sharma',
    participants: ['Rajesh Sharma', 'Anita Desai'],
    scheduledDate: new Date('2024-04-10'),
    completedDate: new Date('2024-04-10'),
    duration: 90,
    outcome: 'positive',
    nextSteps: 'Schedule technical deep-dive with IT team',
    createdAt: new Date(),
    updatedAt: new Date(),
  },
  {
    id: 'act_2',
    type: 'demo',
    subject: 'Platform Demo for Technical Team',
    description: 'Comprehensive demo covering all modules',
    status: 'planned',
    accountId: 'acc_1',
    contactId: 'stake_2',
    opportunityId: 'opp_1',
    stageId: 'stage_5',
    ownerId: 'user_1',
    ownerName: 'Priya Sharma',
    participants: ['Anita Desai', 'IT Team'],
    scheduledDate: new Date('2024-04-20'),
    duration: 120,
    createdAt: new Date(),
    updatedAt: new Date(),
  },
];
