# ğŸ¯ Architecture Summary
## SequelString CRM - MERN Stack Enterprise Features

---

## ğŸ“ Complete Project Structure

```
sequelstring-governance/
â”‚
â”œâ”€â”€ ğŸ“‚ docs/                                 # Documentation
â”‚   â”œâ”€â”€ MERN_ARCHITECTURE.md                 # Main architecture document
â”‚   â”œâ”€â”€ ENTERPRISE_FEATURES_TRACKER.md       # Feature tracking
â”‚   â””â”€â”€ architecture/
â”‚       â”œâ”€â”€ DATABASE_SCHEMA.md               # MongoDB collections design
â”‚       â””â”€â”€ API_SPECIFICATION.md             # REST API documentation
â”‚
â”œâ”€â”€ ğŸ“‚ src/                                  # Frontend (React)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                              # Base UI components (shadcn)
â”‚   â”‚   â”œâ”€â”€ occasion-email/                  # Feature 1 components
â”‚   â”‚   â”‚   â”œâ”€â”€ ImportantDatesSection.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ImportantDateCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ AddImportantDateDialog.tsx
â”‚   â”‚   â”œâ”€â”€ social-profile/                  # Feature 2 components
â”‚   â”‚   â”‚   â”œâ”€â”€ SocialProfilesSection.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ConnectedProfiles.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ActivityFeed.tsx
â”‚   â”‚   â”œâ”€â”€ intelligence/                    # Feature 3 components
â”‚   â”‚   â”‚   â”œâ”€â”€ IntelligenceSection.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NewsAlertCard.tsx
â”‚   â”‚   â”‚   â””â”€â”€ CompetitiveIntelSection.tsx
â”‚   â”‚   â””â”€â”€ call/                            # Feature 4 components
â”‚   â”‚       â”œâ”€â”€ CallsSection.tsx
â”‚   â”‚       â”œâ”€â”€ CallHistoryList.tsx
â”‚   â”‚       â”œâ”€â”€ TranscriptViewer.tsx
â”‚   â”‚       â””â”€â”€ AIInsightsPanel.tsx
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ EnterpriseFeatures.tsx
â”‚   â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ stores/
â”‚   â””â”€â”€ types/
â”‚       â”œâ”€â”€ importantDate.ts
â”‚       â”œâ”€â”€ socialProfile.ts
â”‚       â”œâ”€â”€ intelligence.ts
â”‚       â””â”€â”€ call.ts
â”‚
â”œâ”€â”€ ğŸ“‚ server/                               # Backend (Node.js/Express)
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ config/
â”‚       â”‚   â”œâ”€â”€ database.ts                  # MongoDB connection
â”‚       â”‚   â””â”€â”€ redis.ts                     # Redis connection
â”‚       â”œâ”€â”€ models/                          # Mongoose models
â”‚       â”‚   â”œâ”€â”€ Contact.ts                   # With ImportantDates & SocialProfiles
â”‚       â”‚   â”œâ”€â”€ Call.ts                      # With Transcript & AISummary
â”‚       â”‚   â””â”€â”€ NewsAlert.ts                 # Intelligence data
â”‚       â”œâ”€â”€ services/                        # Business logic
â”‚       â”‚   â”œâ”€â”€ EmailSchedulerService.ts     # Feature 1 email automation
â”‚       â”‚   â”œâ”€â”€ AICallAnalysisService.ts     # Feature 4 AI analysis
â”‚       â”‚   â”œâ”€â”€ SocialSyncService.ts         # Feature 2 social sync
â”‚       â”‚   â””â”€â”€ IntelligenceService.ts       # Feature 3 news aggregation
â”‚       â”œâ”€â”€ controllers/
â”‚       â”œâ”€â”€ routes/
â”‚       â”œâ”€â”€ middleware/
â”‚       â”œâ”€â”€ jobs/                            # Bull queue jobs
â”‚       â””â”€â”€ integrations/                    # External APIs
â”‚           â”œâ”€â”€ sendgrid/
â”‚           â”œâ”€â”€ linkedin/
â”‚           â”œâ”€â”€ twitter/
â”‚           â”œâ”€â”€ twilio/
â”‚           â””â”€â”€ openai/
â”‚
â””â”€â”€ ğŸ“‚ infrastructure/                       # DevOps
    â”œâ”€â”€ docker-compose.yml
    â”œâ”€â”€ k8s/
    â””â”€â”€ terraform/
```

---

## ğŸ—ï¸ Architecture Diagrams

### High-Level System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 CLIENT LAYER                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         React 18 + TypeScript + Vite                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚ â”‚
â”‚  â”‚  â”‚  Occasion    â”‚ â”‚   Social     â”‚ â”‚ Intelligence â”‚ â”‚    Calls     â”‚       â”‚ â”‚
â”‚  â”‚  â”‚   Email      â”‚ â”‚   Profile    â”‚ â”‚              â”‚ â”‚              â”‚       â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ â”‚
â”‚  â”‚         React Query + Zustand + React Router + Shadcn/UI                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                        â”‚ HTTP/WS
                                                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                               API GATEWAY LAYER                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Express.js + Passport.js + Helmet                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚ â”‚
â”‚  â”‚  â”‚   Auth   â”‚ â”‚   Rate   â”‚ â”‚ Validate â”‚ â”‚   CORS   â”‚ â”‚  Logger  â”‚          â”‚ â”‚
â”‚  â”‚  â”‚ Middlewareâ”‚ â”‚ Limiter â”‚ â”‚          â”‚ â”‚          â”‚ â”‚          â”‚          â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                        â”‚
                                                                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              SERVICES LAYER                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚    Email     â”‚ â”‚   Social     â”‚ â”‚ Intelligence â”‚ â”‚     Call     â”‚            â”‚
â”‚  â”‚  Scheduler   â”‚ â”‚    Sync      â”‚ â”‚   Aggregator â”‚ â”‚   Analysis   â”‚            â”‚
â”‚  â”‚   Service    â”‚ â”‚   Service    â”‚ â”‚    Service   â”‚ â”‚   Service    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚         â”‚                â”‚                â”‚                 â”‚                    â”‚
â”‚         â–¼                â–¼                â–¼                 â–¼                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                        Bull Job Queues (Redis)                               â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚ â”‚
â”‚  â”‚  â”‚  Email   â”‚ â”‚  Social  â”‚ â”‚   News   â”‚ â”‚Transcriptâ”‚ â”‚    AI    â”‚          â”‚ â”‚
â”‚  â”‚  â”‚  Queue   â”‚ â”‚   Queue  â”‚ â”‚  Queue   â”‚ â”‚  Queue   â”‚ â”‚  Queue   â”‚          â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                        â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                    â”‚                                                   â”‚
                    â–¼                                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           DATA LAYER                   â”‚  â”‚        EXTERNAL INTEGRATIONS           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   MongoDB    â”‚ â”‚    Redis     â”‚    â”‚  â”‚  â”‚ SendGrid â”‚ â”‚  Twilio  â”‚            â”‚
â”‚  â”‚   Primary    â”‚ â”‚    Cache     â”‚    â”‚  â”‚  â”‚  (Email) â”‚ â”‚  (CTI)   â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚Elasticsearch â”‚ â”‚     S3       â”‚    â”‚  â”‚  â”‚ LinkedIn â”‚ â”‚ Twitter  â”‚            â”‚
â”‚  â”‚   (Search)   â”‚ â”‚  (Storage)   â”‚    â”‚  â”‚  â”‚   API    â”‚ â”‚   API    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
                                           â”‚  â”‚  OpenAI  â”‚ â”‚  News    â”‚            â”‚
                                           â”‚  â”‚  GPT-4   â”‚ â”‚  APIs    â”‚            â”‚
                                           â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
                                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Feature Data Flow Diagrams

### Feature 1: Occasion-Based Auto Email

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User   â”‚â”€â”€â”€â”€â–¶â”‚  React  â”‚â”€â”€â”€â”€â–¶â”‚ Express â”‚â”€â”€â”€â”€â–¶â”‚ MongoDB â”‚     â”‚         â”‚
â”‚ Action  â”‚     â”‚   UI    â”‚     â”‚   API   â”‚     â”‚  Store  â”‚     â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚         â”‚
                                                     â”‚          â”‚         â”‚
                                                     â–¼          â”‚         â”‚
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚         â”‚
                                              â”‚  node-cron  â”‚   â”‚         â”‚
                                              â”‚  Scheduler  â”‚   â”‚         â”‚
                                              â”‚ (midnight)  â”‚   â”‚         â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚         â”‚
                                                     â”‚          â”‚ SendGridâ”‚
                                                     â–¼          â”‚   API   â”‚
                                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚         â”‚
                                              â”‚ Bull Queue  â”‚â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
                                              â”‚ (email-job) â”‚   â”‚         â”‚
                                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚         â”‚
                                                                â”‚         â”‚
                                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Feature 4: Calls with AI Analysis

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Call   â”‚â”€â”€â”€â”€â–¶â”‚ Twilio  â”‚â”€â”€â”€â”€â–¶â”‚  Store  â”‚â”€â”€â”€â”€â–¶â”‚   S3    â”‚â”€â”€â”€â”€â–¶â”‚ Whisper â”‚
â”‚ Started â”‚     â”‚   CTI   â”‚     â”‚Recordingâ”‚     â”‚ Upload  â”‚     â”‚Transcribeâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                      â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ Transcript  â”‚â”€â”€â”€â”€â–¶â”‚   OpenAI    â”‚â”€â”€â”€â”€â–¶â”‚  AI Summary â”‚
             â”‚   Ready     â”‚     â”‚   GPT-4     â”‚     â”‚   Ready     â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                                      â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ Key Points  â”‚                        â”‚   Action    â”‚
             â”‚ Sentiment   â”‚                        â”‚   Items     â”‚
             â”‚   Topics    â”‚                        â”‚Opportunitiesâ”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Technology Stack Summary

| Layer | Technology | Purpose |
|-------|------------|---------|
| **Frontend** | React 18 | UI Framework |
| **Frontend** | TypeScript | Type Safety |
| **Frontend** | Vite | Build Tool |
| **Frontend** | TailwindCSS | Styling |
| **Frontend** | Shadcn/UI | Component Library |
| **Frontend** | React Query | Server State |
| **Frontend** | Zustand | Client State |
| **Backend** | Node.js 20 | Runtime |
| **Backend** | Express.js | Web Framework |
| **Backend** | Mongoose | ODM |
| **Backend** | Bull | Job Queues |
| **Backend** | Socket.io | Real-time |
| **Database** | MongoDB | Primary DB |
| **Database** | Redis | Cache & Queues |
| **Database** | Elasticsearch | Search |
| **Storage** | AWS S3 | File Storage |
| **Email** | SendGrid | Transactional Email |
| **AI** | OpenAI GPT-4 | Call Analysis |
| **AI** | OpenAI Whisper | Transcription |
| **Social** | LinkedIn API | Profile Sync |
| **Social** | Twitter API | Profile Sync |
| **Calls** | Twilio | CTI Integration |
| **DevOps** | Docker | Containerization |
| **DevOps** | Kubernetes | Orchestration |

---

## ğŸ—‚ï¸ MongoDB Collections

| Collection | Purpose | Size Estimate |
|------------|---------|---------------|
| `contacts` | Contact records with Important Dates & Social Profiles | ~1M docs |
| `accounts` | Company records with Intelligence subscriptions | ~100K docs |
| `calls` | Call records with Transcripts & AI Summaries | ~5M docs |
| `news_alerts` | Intelligence news articles | ~1M docs (TTL: 30 days) |
| `email_templates` | Email template library | ~100 docs |
| `users` | User accounts | ~10K docs |
| `activities` | Social media activities | ~10M docs |

---

## ğŸ”’ Security Checklist

- [x] JWT authentication with refresh tokens
- [x] bcrypt password hashing
- [x] Helmet.js security headers
- [x] Rate limiting per endpoint
- [x] Input validation with Zod
- [x] CORS configuration
- [x] Encrypted social tokens (AES-256)
- [x] Request logging
- [x] Error masking in production

---

## ğŸ“ˆ Performance Targets

| Metric | Target |
|--------|--------|
| API Response (P95) | < 200ms |
| Page Load Time | < 2s |
| WebSocket Latency | < 50ms |
| Email Processing | < 5s |
| Transcription | < 30s |
| AI Analysis | < 15s |

---

## ğŸš€ Deployment Commands

```bash
# Development
npm run dev                    # Start frontend + backend
npm run dev:server            # Backend only
npm run dev:client            # Frontend only

# Production Build
npm run build                  # Build all
npm run build:server          # Build backend
npm run build:client          # Build frontend

# Docker
docker-compose up -d          # Start all services
docker-compose logs -f api    # View API logs

# Kubernetes
kubectl apply -f k8s/         # Deploy to cluster
kubectl rollout status        # Check deployment
```

---

## ğŸ“š Documentation Links

- [Main Architecture Document](./MERN_ARCHITECTURE.md)
- [Database Schema Design](./architecture/DATABASE_SCHEMA.md)
- [API Specification](./architecture/API_SPECIFICATION.md)
- [Feature Tracker](./ENTERPRISE_FEATURES_TRACKER.md)

---

*Last Updated: January 29, 2026*
